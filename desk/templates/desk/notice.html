{% extends 'users/main.html' %}

{% block content %}

<div class="row mb-2">
	<div class="col">
		<div class="card">
        <div class="card-title text-center">
            <h3 class="text-primary font-weight-bold">Notice</h3>
        </div>
			<form method="get">
{#				{{noticeFilter.form}}#}
                <div class="" style="background: #BBDEFB">
                    <div class="row px-3 pt-2">
                        <div class="col form-group">
                            <label class="h6" for="title">Title:</label>
                            {{ noticeFilter.form.title }}
                        </div>
                        <div class="col form-group">
                            <label class="h6" for="region">Region:</label>
                            {{ noticeFilter.form.region }}
                        </div>
                        <div class="col form-group">
                            <label class="h6" for="start_date">Start Date:</label>
                            {{ noticeFilter.form.start_date }}
                        </div>
                        <div class="col form-group">
                            <label class="h6" for="end_date">End Date:</label>
                            {{ noticeFilter.form.end_date }}
                        </div>
                        <div class="mr-2" style="margin-top: 28px;"><button class="btn btn-primary" type="submit">Search</button></div>
                    </div>
                </div>
		  </form>

		</div>
	</div>

</div>
{% for notice in notices %}
    <div class="card p-3 mb-2 bg-light">
        <div class="row">
            <div class="col-md-12">
                <div class="full-notice">
                    <div class="notice-btn mb-3">
                        <strong>
                            <i class="fas fa-hand-point-right"></i>
                            <a href="" data-toggle="modal" data-target="#myModal-{{ notice.id }}">{{notice.title}}</a>
                        </strong>
                    </div>
                    <div class="row">
                        <div class="col-md-5" style="font-size: 14px">
                            <i class="fas fa-dungeon"></i>
                            {{ notice.region }}
                        </div>
                        <div class="col-md-3" style="font-size: 14px">
                            <i class="fas fa-user-shield"></i>
                            {{ notice.author }}
                        </div>
                        <div class="col-md-3" style="font-size: 14px">
                            <i class="fas fa-calendar-alt"></i>
                            {{notice.date_posted|date:'d-b-Y'}}
                        </div>
                        <div class="col-md-1" style="font-size: 14px">
                            <i class="fas fa-eye"></i>
                            63
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal -->
      <div class="modal fade" id="myModal-{{ notice.id }}" role="dialog">
        <div class="modal-dialog modal-lg">
          <div class="bg-light modal-content">
            <div class="modal-header">
              <h4 class="modal-title">{{ notice.title }}</h4>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
              <p>{{ notice.description }}</p>
            </div>
            <div class="modal-footer">
              <a href="./abcf32x.pdf" download="How-to-download-file.pdf">
                  <button class="btn btn-outline-primary"><i class="fa fa-download"></i> Download File</button>
              </a>
              <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
{% endfor %}
    <script>
        var form_fields = document.getElementsByTagName('input')

        for (var field in form_fields){
            form_fields[field].className += ' form-control'
        }
        form_fields[1].type='Date';
        form_fields[2].type='Date';

        var form_select = document.getElementsByTagName('select')
        form_select[0].className = 'form-control'
    </script>
{% endblock %}