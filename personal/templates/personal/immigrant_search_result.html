{% extends 'users/main.html' %}

{% block content %}
    <style>
      table {
        border-collapse: separate;
        border-spacing: 0 15px;
      }
      .table td {
        vertical-align: middle!important;
      }
    </style>

    <div class="row mb-2">
	<div class="col">
		<div class="card" style="background-image: url('https://thumbs.dreamstime.com/t/connected-world-map-banner-%C3%A2%E2%82%AC-communication-logistics-transportation-commerce-digitalization-connectivity-overlaid-141501164.jpg')">
        <div class="card-title text-center">
            <div class=" text-center">
                <img class="img logo rounded-circle" src="https://snapledgers.com/wp-content/uploads/2018/03/source.gif" style="width: auto; height: 50px; margin-top: -25px;">
                <span class="h2 text-white font-weight-bold">Find Nearby</span>
            </div>
        </div>
			<form method="get">
{#				{{noticeFilter.form}}#}
                <div class="" style="background: transparent">
                    <div class="row px-3 pt-2">
                        <div class="col form-group">
{#                            <label class="h6" for="title">Name:</label>#}
                            {{ immigrantFilter.form.immigrant_name }}
                        </div>
                        <div class="col form-group">
{#                            <label class="h6" for="region">Region:</label>#}
                            {{ immigrantFilter.form.region }}
                        </div>
                        <div class="mr-2" style=""><button class="btn btn-primary" type="submit">Search</button></div>
                    </div>
                </div>
		  </form>

		</div>
	</div>

</div>
    <table class="table">
      <thead>
        <tr class="bg-light">
          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col">Designation</th>
          <th scope="col">Country</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
          {% for immigrant in immigrants %}
            <tr class="bg-light shadow">
              <th><img class="img logo rounded-circle" src="{{ immigrant.photo.url }}" alt="Image" style="width:60px; height: 60px;"></th>
              <td><strong>{{immigrant.user.first_name}} {{immigrant.user.last_name}}</strong></td>
              <td>{{ immigrant.job_desig }}</td>
              <td>{{ immigrant.region.country_name }}</td>
              <td><a href="{% url 'immigrant-detail' immigrant.id %}" class="btn btn-sm btn-outline-info">Detail</a></td>
            </tr>
          {% endfor %}
      </tbody>
    </table>

    <script>
        var form_fields = document.getElementsByTagName('input')
        form_fields[0].placeholder="Name.."
        for (var field in form_fields){
            form_fields[field].className += ' form-control'
        }

        var form_select = document.getElementsByTagName('select')
        form_select[0].className = 'form-control'
    </script>
{% endblock %}