{% extends 'users/main.html' %}

{% block content %}
        <style>
        .my-link-style:hover {
            text-decoration: underline;
        }

        #feedback {
            background: #7E57C2;
            {#padding: 0% 10%;#}
        }

        .hr-style {
            border: 5px dotted white;
            border-bottom: none;
            width: 50px;
        }

        .carousel-item {
            {#padding: 0% 10%;#}
            text-align: center;
            font-style: italic;
        }

        .feedback-img {
            width: 100%;
            height: 250px;
        }

        .carousel-indicators {
            bottom: -20px;
        }
        .dropdown-menu {
            min-width: 3rem;
        }
        .dropdown-menu a {
            color: black;
        }
        .dropdown-menu a:hover{
            background-color: #f8b739;
            color: white;
        }
    </style>
    <div class="">
        <section id="feedback">

            <div class="row">
                <div class="col-lg-12">
                    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel"
                        data-interval="2000" data-pause="hover">
                        <ol class="carousel-indicators">
                            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                        </ol>
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img class="feedback-img"
                                    src="https://i0.wp.com/www.onlinecivilforum.com/site/wp-content/uploads/2016/09/home-proffessionals.jpg?fit=3000%2C1100&ssl=1"
                                    alt="">
                            </div>
                            <div class="carousel-item">
                                <img class="feedback-img"
                                    src="https://d3jh33bzyw1wep.cloudfront.net/s3/W1siZiIsIjIwMjAvMDcvMDYvMTYvMjEvNTYvMzY0L1BpbmsgYW5kIFJlZCBCZWF1dHkgSW5mbHVlbmNlciBBc3ltbWV0cmljYWwgT3ZlcmxheXMgRmFjZWJvb2sgQ292ZXIgKDEyKS5wbmciXSxbInAiLCJ0aHVtYiIsIjIwMDB4NTAwXHUwMDNjIl1d"
                                    alt="">
                            </div>
                            <div class="carousel-item">
                                <img class="feedback-img"
                                    src="https://remotebliss.com/wp-content/uploads/2019/01/blog-10.jpg"
                                    alt="">
                            </div>
                        </div>
                        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button"
                            data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button"
                            data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>
        </section>
        <div class="bg-light">
            <div class="row  mb-2">
                <div class="col-12 text-center">
                    <h1 class="text-primary font-weight-bold" >LATEST JOBS</h1>
                    <p class="text-secondary font-italic" >View Thousands of Latest Full Time or Part Time Job Offers listed by Top Companies</p>

                    <div class="row mb-2">
                        <div class="col">
                            <div class="card pt-3" style="background: #BBDEFB">

                                <form method="get">
{#                                    {{jobFilter.form}}#}
                                    <div class="form-group">
                                        <div class="row px-3 text-center">
                                            <div class="col">{{ jobFilter.form.title }}</div>
                                            <div class="col">{{ jobFilter.form.company_name }}</div>
                                            <div class="col">{{ jobFilter.form.region }}</div>
                                            <div class="mr-2"><button class="btn btn-primary" type="submit">Search</button></div>
                                        </div>
                                    </div>

                                </form>

                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="row px-3 mb-2">
            {% for job in jobs %}
                <div class="col-lg-3 col-md-4 px-0">
                    <div class="card">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-4 text-left">
                                    <img class="" src="{{ job.company_logo }}" alt="sans" style="width: 65px; height: 65px;">
                                </div>
                                <div class="col-sm-8">
                                    <h5 class="card-title">{{ job.company_name }}</h5>
                                    <a href="" class="card-text" data-toggle="modal" data-target="#detail-modal-{{ job.id }}" data-backdrop="static" data-keyboard="false" onclick="modal('{{ job.id }}')"><i class="fa fa-arrow-circle-right"></i> {{ job.title }}</a>
{#                                    <p>{{ job.requirements }}</p>#}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                  <!-- Modal -->
                <div class="modal fade" id="detail-modal-{{ job.id }}" role="dialog">
                    <div class="modal-dialog modal-lg">
                      <div class="bg-light modal-content">
                        <div class="modal-header">
                          <h4 class="modal-title">Description</h4>
                          <button id="close" type="button" class="close" data-dismiss="modal" onclick="modal('{{ job.id }}')">&times;</button>
                        </div>
                        <div class="modal-body">

                        {#job body#}
                        <div id="jobBody-{{ job.id }}" class="px-2">
                              <h5>Name of the post: <strong>{{ job.title }}</strong></h5>
                              <h5 class="pt-4">{{ job.company_name }}</h5>
                              <div>
                                  {{ job.body | safe }}
                              </div>
                            <div class="">
                                  <hr style="background-color: #E91E63; height: 1px; border: 0;">
                                  <div class="text-center">
                                     <p><b>If you think you are the right person whom we are looking for, please apply with confidence.</b></p>
                                     <button id="apply" type="button" class="btn btn-outline-danger" onclick="modalApply('{{ job.id }}')">Apply</button>
                                     <h4 class="mt-2"><strong>Application Deadline:</strong><span class="text-danger"> {{ job.deadline }}</span></h4>
                                  </div>
                             </div>
                          </div>


                        {#Apply form#}
                        <div id="applyBody-{{ job.id }}" class="">
                              <div class="contact-section">
                                <form action="" class="col-lg-8 col-md-6 m-auto was-validated bg-light text-black p-3  ">

                                    <div class="form-group">
                                        <label for="fullname">Fullname</label>
                                        <input type="text" class="form-control" name="fullname" required>
                                        <div class="valid-feedback">Valid</div>
                                        <div class="invalid-feedback">Please enter your fullname as soon as possible</div>
                                    </div>

                                    <div class="form-group">
                                        <label for="email">Email</label>
                                        <input type="email" class="form-control" name="email">
                                        <div class="invalid-feedback">Please enter your valid email</div>
                                    </div>

                                    <div class="form-group">
                                        <label for="subject">Subject</label>
                                        <input type="text" class="form-control" name="subject">
                                    </div>

                                    <div class="form-group">
                                        <label for="message">message</label>
                                        <textarea style="resize: none;" name="message" class="form-control" id="" cols="30"
                                            rows="10"></textarea>
                                    </div>

                                    <div class="form-group text-right">
                                        <button type="reset" class="btn btn-danger" value="Reset">Reset</button>
                                        <button type="submit" class="btn btn-success" value="submit">Submit</button>
                                    </div>

                                </form>
                               </div>
                            </div>

                        </div>

                      </div>
                    </div>
                </div>
            {% endfor %}
            </div>
        </div>
    </div>

    <script>
        function modal(id) {
            $(`#applyBody-${id}`).css({"display": "none"});
            $(`#jobBody-${id}`).show()
        }

        function modalApply(id) {
            $(`#jobBody-${id}`).hide()
            $(`#applyBody-${id}`).show()
        }

        var form_fields = document.getElementsByTagName('input')

        for (var field in form_fields){
            form_fields[field].className += ' form-control'
        }
        form_fields[0].placeholder='Position Name';
        form_fields[1].placeholder='Company Name';

        var form_select = document.getElementsByTagName('select')
        form_select[0].className = 'form-control'

    </script>
{% endblock %}