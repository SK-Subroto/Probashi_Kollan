{% extends 'users/main.html' %}

{% block content %}
    <style>
        .my-link-style:hover {
            text-decoration: underline;
        }

        #feedback {
            background: #7E57C2;
            padding: 0% 10%;
        }

        .hr-style {
            border: 5px dotted white;
            border-bottom: none;
            width: 50px;
        }

        .carousel-item {
            padding: 0% 10%;
            text-align: center;
            font-style: italic;
        }

        .feedback-img {
            width: 120px;
            height: 120px;
        }

        .carousel-indicators {
            bottom: -20px;
        }
        .dropdown-menu {
            min-width: 3rem;
        }
        .dropdown-menu a {
            color: black;
        }
        .dropdown-menu a:hover{
            background-color: #f8b739;
            color: white;
        }

        .dropdown-toggle::after {
            {#display: none;#}
            margin-right: 5px;
        }

    </style>
    <div class="text-white mb-3">
        <section id="feedback">
            <div class="section-title">
                <h3 class="text-white text-center">BLog</h3>
            </div>

            <div class="row">
                <div class="col-lg-12">
                    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel"
                        data-interval="2000" data-pause="hover">
                        <ol class="carousel-indicators">
                            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                        </ol>
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <p>Item1. Lorem ipsum dolor sit amet consectetur adipisicing elit. Explicabo maxime
                                    provident amet fugiat, repellat sunt?</p>
                                <img class="feedback-img rounded-circle mb-3"
                                    src="https://assets.weforum.org/sf_account/image/kHsu6qQqtcAAk2iijMMsI0DSGM_SHGwn7vUZ_bzd9-4.jpg"
                                    alt="">
                                <h6>Mustafa Kamal</h6>
                            </div>
                            <div class="carousel-item">
                                <p>Item2. Lorem ipsum dolor sit amet consectetur adipisicing elit. Explicabo maxime
                                    provident amet fugiat, repellat sunt?</p>
                                <img class="feedback-img rounded-circle mb-3"
                                    src="https://www.thehindu.com/news/cities/Delhi/all62x/article30291270.ece/alternates/FREE_435/DE13ABDULMOMIN"
                                    alt="">
                                <h6>Ak Abdul Momen</h6>
                            </div>
                            <div class="carousel-item">
                                <p>Item3. Lorem ipsum dolor sit amet consectetur adipisicing elit. Explicabo maxime
                                    provident amet fugiat, repellat sunt?</p>
                                <img class="feedback-img rounded-circle mb-3"
                                    src="https://upload.wikimedia.org/wikipedia/commons/8/88/Zahid_Maleque.jpg"
                                    alt="">
                                <h6>Zahid Maleque</h6>
                            </div>
                        </div>
                        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button"
                            data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button"
                            data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <div class="bg-light px-2 py-3">

    <div class="row mb-2">
        <div class="col">
            <div class="card">
                <form method="get">
{#                    {{blogFilter.form}}#}
                    <div class="" style="background: #BBDEFB">
                        <div class="row px-3 pt-2">
                            <div class="col form-group">
                                <label class="h6" for="title">Title:</label>
                                {{ blogFilter.form.title }}
                            </div>
                            <div class="col form-group">
                                <label class="h6" for="region">Region:</label>
                                {{ blogFilter.form.region }}
                            </div>
                            <div class="col form-group">
                                <label class="h6" for="start_date">Start Date:</label>
                                {{ blogFilter.form.start_date }}
                            </div>
                            <div class="col form-group">
                                <label class="h6" for="end_date">End Date:</label>
                                {{ blogFilter.form.end_date }}
                            </div>
                            <div class="mr-2" style="margin-top: 28px;"><button class="btn btn-primary" type="submit">Search</button></div>
                        </div>
                    </div>
              </form>
            </div>
        </div>
    </div>

        <div class="row mb-2">
            <div class="col-8">
                 <h3 class="pl-2">Recent</h3>
            </div>
            <div class="col-4 text-right">
{#                <button class="btn btn-primary"><i class="fa fa-plus-circle"></i></button>#}
                <div class="dropdown">
                    <button role="button" type="button" class="btn btn-primary" data-toggle="dropdown">
                      <i class="fa fa-plus-circle"></i>
                    </button>
                    <div class="dropdown-menu text-center mr-2">
                      <a class="dropdown-item" data-toggle="modal" data-target="#newModal" href="#">Create New</a>
                      <a class="dropdown-item" href="#">My Blog</a>
                      <a class="dropdown-item" href="#">Popular</a>
                    </div>
                 </div>
            </div>
        </div>
        <div class="row">
            {% for blog in blogs %}
            <div class="col-lg-4 mb-4">
                <div class="card shadow" style="height: 500px;">
                    <img src="{{ blog.photo.url }}" alt="Image" class="img-fluid rounded" style="height: 250px;">
                    <div class="card-body">
                        <h4 class="card-title overflow-hidden" style="height: 100px; color: #3949AB">{{ blog.title }}</h4>
                        <div class="post-meta align-items-center text-left clearfix">
                            <img src={{ blog.author.immigrant.photo.url }} alt="Image" class="rounded-circle p-1" style="width: 50px; height: 50px;">
                            <span class="d-inline-block mt-1">By <a href="{% url 'immigrant-detail' blog.author.immigrant.id %}" class="text-danger">{{ blog.author.first_name }} {{ blog.author.last_name }}</a></span>
                            <span>&nbsp;-&nbsp; {{ blog.date_posted|date:'M d, Y' }}</span>
                        </div>
{#                        <p class="text-dark card-text">{{ blog.content }}</p>#}
{#                        <p><a href="#">Read More</a></p>#}
{#                        <p id="details-{{ blog.id }}" class="collapse text-dark card-text overflow-auto">{{ blog.content }}</p>#}

                    </div>
                    <div class="card-footer bg-white py-0">
                        <p class="text-right"><a href="#" data-toggle="modal" data-target="#details-{{ blog.id }}">Read More</a></p>
                    </div>
                </div>
            </div>

             <!-- Modal -->
              <div class="modal fade" id="details-{{ blog.id }}" role="dialog">
                <div class="modal-dialog modal-lg">
                  <div class="bg-light modal-content">
                    <div class="modal-header">
                      <h4 class="modal-title">{{ blog.title }}</h4>
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">
                      <p>{{ blog.content }}</p>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-outline-danger" data-dismiss="modal">Close</button>
                    </div>
                  </div>
                </div>
              </div>
            {% endfor %}
{#            <div class="col-lg-4">#}
{#                <div class="card">#}
{#                    <img src="https://adventure.com/wp-content/uploads/2020/01/Saudi-Arabia-At-Turaif-is-beautifully-lit-at-night.-Image-credit-Sarah-Reid-scaled.jpg" alt="Image" class="img-fluid rounded">#}
{#                    <div class="card-body">#}
{#                        <h4 class="card-title"><a href="single.html">Travel in Saudi Arabia: Is the country ready for tourists?</a></h4>#}
{#                        <div class="post-meta align-items-center text-left clearfix">#}
{#                            <img src="https://avatars3.githubusercontent.com/u/47079665?s=460&u=a32284fed6c90a4b5d8a202d10a0efdbd7f3ee9d&v=4" alt="Image" class="rounded-circle p-1" style="width: 50px; height: auto">#}
{#                            <span class="d-inline-block mt-1">By <a href="#">Carrol Atkinson</a></span>#}
{#                            <span>&nbsp;-&nbsp; July 19, 2019</span>#}
{#                        </div>#}
{#                        <p class="text-dark card-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quo sunt tempora dolor laudantium sed optio, explicabo ad deleniti impedit facilis fugit recusandae! Illo, aliquid, dicta beatae quia porro id est.</p>#}
{#                        <p><a href="#">Read More</a></p>#}
{#                    </div>#}
{#                </div>#}
{#            </div>#}
{#            <div class="col-lg-4">#}
{#                <div class="card">#}
{#                    <img src="https://www.fodors.com/assets/destinations/2869/tower-bridge-london-england_980x650.jpg" alt="Image" class="img-fluid rounded">#}
{#                    <div class="card-body">#}
{#                        <h4 class="card-title"><a href="single.html">London Travel Guide - Expert Picks for your Vacation</a></h4>#}
{#                        <div class="post-meta align-items-center text-left clearfix">#}
{#                            <img src="https://avatars3.githubusercontent.com/u/47079665?s=460&u=a32284fed6c90a4b5d8a202d10a0efdbd7f3ee9d&v=4" alt="Image" class="rounded-circle p-1" style="width: 50px; height: auto">#}
{#                            <span class="d-inline-block mt-1">By <a href="#">Carrol Atkinson</a></span>#}
{#                            <span>&nbsp;-&nbsp; July 19, 2019</span>#}
{#                        </div>#}
{#                        <p class="text-dark card-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quo sunt tempora dolor laudantium sed optio, explicabo ad deleniti impedit facilis fugit recusandae! Illo, aliquid, dicta beatae quia porro id est.</p>#}
{#                        <p><a href="#">Read More</a></p>#}
{#                    </div>#}
{#                </div>#}
{#            </div>#}
        </div>
        <!-- Modal new meeting -->
        <div class="modal fade" id="newModal" role="dialog">
            <div class="modal-dialog modal-lg">
                  <div class="modal-content">
                        <div class="modal-header">
                            <div class="text-center modal-title text-center">
                                    <h3 class="font-weight-bolder">Create a post</h3>
                            </div>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>

                        </div>
                        <div class="modal-body">
                          <div class="contact-section">

                            <form action="" method="post" enctype="multipart/form-data" class="col-lg-8 col-md-6 m-auto was-validated bg-light text-black p-3">
                                {% csrf_token %}
                                <div class="form-group">
                                    <label for="region">Region</label>
                                      {{ blog_form.region }}
                                </div>

                                <div class="form-group">
                                    <label for="title">Title</label>
                                      {{ blog_form.title }}
                                </div>

                                <div class="form-group">
                                    <label for="photo">Photo</label>
                                      {{ blog_form.photo }}
                                </div>

                                <div class="form-group">
                                    <label for="content">Content</label>
                                    {{ blog_form.content }}
                                </div>

                                <div class="form-group text-right">
                                    <button type="reset" class="btn btn-danger" value="Reset">Reset</button>
                                    <button type="submit" class="btn btn-success" value="submit">Submit</button>

                                </div>
                            </form>
                          </div>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                  </div>
            </div>
        </div>

    </div>

    <script>
        if ( window.history.replaceState ) {
          window.history.replaceState( null, null, window.location.href );
        }

        var form_select = document.getElementsByTagName('select')
        form_select[1].className = 'form-control'

        var form_fields = document.getElementsByTagName('input')
		{#form_fields[2].className='p-1';#}
        form_fields[1].type='Date';
        form_fields[2].type='Date';

        var form_textarea = document.getElementsByTagName('textarea')

        form_textarea[0].className='form-control';

		for (var field in form_fields){
			form_fields[field].className += ' form-control'
		}

		var form_select = document.getElementsByTagName('select')
        form_select[0].className = 'form-control'

    </script>

{% endblock %}